<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>Ù…Ø­Ø§ÙƒØ§Ø© Ù†ÙˆØªØ´ iPhone 13 Pro (Ø¯Ù‚ÙŠÙ‚Ø©)</title>

<!-- ØªØ´ØºÙŠÙ„ ÙƒÙ€ Web App Ø¹Ù„Ù‰ iOS -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Notch 13 Pro">
<meta name="theme-color" content="#000000">

<style>
  :root{
    --safe-top: env(safe-area-inset-top, 0px);
    --safe-bottom: env(safe-area-inset-bottom, 0px);

    /* Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (ÙŠØªÙ… ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¨Ø§Ù„Ù€ media queries) */
    --notch-w: 210px; /* 13 Pro */
    --notch-h: 34px;
    --radius-b: 14px;

    --glass: rgba(0,0,0,.92);
    --border: rgba(255,255,255,.06);
    --accent: #60a5ff;
    --ok: #25D366;
    --warn: #ff7a7a;
    --txt: #fff;
  }
  /* 13 Pro Max (428pt) */
  @media (min-width: 420px) and (max-width: 440px) {
    :root{ --notch-w: 230px; --notch-h: 34px; --radius-b: 14px; }
  }

  *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
  html,body{height:100%;margin:0;background:#000;color:var(--txt);font-family:system-ui,-apple-system,Segoe UI,Roboto}
  .stage{position:fixed;inset:0;padding-top:var(--safe-top);padding-bottom:var(--safe-bottom);overflow:hidden}
  .bg{
    position:absolute;inset:0;pointer-events:none;
    background:
      radial-gradient(1200px 600px at 50% -20%, rgba(96,165,255,.12), transparent 60%),
      radial-gradient(800px 400px at 30% 120%, rgba(37,211,102,.10), transparent 60%),
      #000;
  }

  /* Ø§Ù„Ù†ÙˆØªØ´: Ù…Ù„ØªØµÙ‚ Ø¨Ø§Ù„Ø£Ø¹Ù„Ù‰ØŒ Ø²ÙˆØ§ÙŠØ§ Ø³ÙÙ„ÙŠØ© Ù…Ø³ØªØ¯ÙŠØ±Ø© ÙÙ‚Ø· */
  .notch{
    position:fixed; z-index:5; top:0; left:50%; transform:translateX(-50%);
    width: var(--notch-w); height: calc(var(--safe-top) + var(--notch-h));
  }
  .shape{
    position:absolute; left:50%; transform:translateX(-50%);
    top: var(--safe-top); width: var(--notch-w); height: var(--notch-h);
    background: var(--glass);
    border-bottom-left-radius: var(--radius-b);
    border-bottom-right-radius: var(--radius-b);
    border: 1px solid var(--border); border-top:none;
    box-shadow: 0 10px 26px rgba(0,0,0,.5), 0 0 16px rgba(96,165,255,.12);
    overflow:hidden;
    transition: width .28s cubic-bezier(.2,.9,.2,1),
               height .28s cubic-bezier(.2,.9,.2,1),
               border-radius .28s ease;
  }

  /* ØªÙˆØ³Ø¹Ø© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
  .expand .shape{
    width: clamp(calc(var(--notch-w) + 40px), 90vw, 560px);
    height: calc(var(--notch-h) + 118px);
  }

  /* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù†ÙˆØªØ´ */
  .bar{
    position:absolute; left:50%; transform:translateX(-50%);
    top: calc(var(--safe-top)); width: var(--notch-w); height: var(--notch-h);
    display:flex; align-items:center; gap:10px; padding:6px 12px; font-size:13px; font-weight:700;
    pointer-events:none;
  }
  .dot{width:8px;height:8px;border-radius:50%;background:var(--accent);box-shadow:0 0 8px var(--accent);animation:pulse 1.6s ease-in-out infinite}
  @keyframes pulse{0%,100%{transform:scale(.9);opacity:.9}50%{transform:scale(1.15);opacity:1}}
  .meter{display:flex;align-items:flex-end;gap:3px;height:14px}
  .barv{width:3px;background:#8cf;border-radius:2px;opacity:.9}
  @keyframes updown{from{height:6px}50%{height:14px}to{height:8px}}
  .barv:nth-child(1){animation:updown 1s ease-in-out infinite .0s}
  .barv:nth-child(2){animation:updown 1s ease-in-out infinite .15s}
  .barv:nth-child(3){animation:updown 1s ease-in-out infinite .3s}
  .barv:nth-child(4){animation:updown 1s ease-in-out infinite .45s}
  .barv:nth-child(5){animation:updown 1s ease-in-out infinite .6s}
  .title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

  /* ØµÙŠÙ†ÙŠØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
  .tray{
    position:absolute; left:50%; transform:translateX(-50%);
    top: calc(var(--safe-top) + var(--notch-h) + 6px);
    width: min(540px, 90vw);
    display:grid; gap:8px; grid-template-columns: 1fr;
    opacity:0; translate: 0 -6px;
    transition: opacity .18s ease, translate .24s ease;
    pointer-events:none;
  }
  .expand .tray{opacity:1; translate:0 0; pointer-events:auto}

  .card{
    background: rgba(255,255,255,.04);
    border:1px solid rgba(255,255,255,.08);
    border-radius:12px; padding:10px 12px; box-shadow:0 8px 20px rgba(0,0,0,.35);
  }
  .row{display:flex; gap:10px; align-items:flex-start}
  .appicon{width:18px;height:18px;border-radius:4px;background:#1d1d22;display:grid;place-items:center;font-size:12px;flex:0 0 18px}
  .wa{background:var(--ok)}
  .who{font-weight:700}
  .text{opacity:.92}
  .pill{
    display:inline-flex; gap:8px; align-items:center;
    background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.1);
    padding:6px 10px; border-radius:999px; font-weight:600; font-size:12px;
  }
  .pill.ok{box-shadow: 0 8px 24px rgba(37,211,102,.25)}
  .pill.warn{box-shadow: 0 8px 24px rgba(255,122,122,.25)}

  /* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */
  .panel{
    position:fixed; left:50%; bottom: calc(14px + var(--safe-bottom));
    transform:translateX(-50%);
    display:flex; gap:10px; flex-wrap:wrap; justify-content:center; z-index:9;
  }
  .btn{
    padding:10px 14px; border-radius:12px; border:1px solid rgba(255,255,255,.12);
    background:rgba(255,255,255,.06); color:#fff; font-weight:700; font-size:14px;
  }

  /* Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¶Ø¨Ø· Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© */
  .tuner{
    position:fixed; right:10px; top: calc(var(--safe-top) + 8px);
    display:flex; gap:6px; z-index:10;
  }
  .tuner .s{
    padding:6px 10px; border-radius:10px; background:rgba(255,255,255,.06);
    border:1px solid rgba(255,255,255,.12); color:#fff; font-weight:700; font-size:12px;
  }

  .hint{
    position:fixed; left:50%; transform:translateX(-50%);
    top: calc(var(--safe-top) + 52px); font-size:12px; opacity:.85;
    background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12);
    padding:6px 10px; border-radius:10px; backdrop-filter: blur(6px); z-index:8;
  }
</style>
</head>
<body>
  <div class="stage">
    <div class="bg"></div>

    <!-- Ø§Ù„Ù†ÙˆØªØ´ -->
    <div id="notch" class="notch">
      <div class="shape" id="shape"></div>

      <!-- Ø´Ø±ÙŠØ· Ø¹Ù„ÙˆÙŠ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù†ÙˆØªØ´ -->
      <div class="bar">
        <div class="dot" aria-hidden="true"></div>
        <div class="meter" aria-hidden="true">
          <div class="barv" style="height:8px"></div>
          <div class="barv" style="height:12px"></div>
          <div class="barv" style="height:9px"></div>
          <div class="barv" style="height:14px"></div>
          <div class="barv" style="height:7px"></div>
        </div>
        <div class="title" id="title">Ù†ÙˆØªØ´ iPhone 13 Pro â€” Ù…Ø·Ø§Ø¨Ù‚</div>
      </div>

      <!-- ØµÙŠÙ†ÙŠØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
      <div class="tray" id="tray">
        <!-- Ø¥Ø´Ø¹Ø§Ø± ÙˆØ§ØªØ³Ø§Ø¨ -->
        <div class="card" id="waCard">
          <div class="row">
            <div class="appicon wa">ğŸŸ¢</div>
            <div>
              <div class="who" id="waFrom">ØµØ¯ÙŠÙ‚Ùƒ</div>
              <div class="text" id="waText">ÙˆØµÙ„ØªØŸ Ù…Ø­ØªØ§Ø¬Ùƒ Ø§Ù„Ø¢Ù†.</div>
            </div>
          </div>
        </div>
        <!-- Ø­Ø§Ù„Ø© ØµØ§Ù…Øª/Ø¹Ø§Ù… -->
        <div class="card">
          <div class="row">
            <div class="pill ok" id="modePill">
              <span id="bell">ğŸ””</span>
              <span id="modeText">Ø§Ù„Ù†Ù…Ø·: Ø¹Ø§Ù…</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
    <div class="panel">
      <button class="btn" onclick="toggleExpand()">ØªÙˆØ³ÙŠØ¹/ØªØµØºÙŠØ± Ø§Ù„Ù†ÙˆØªØ´</button>
      <button class="btn" onclick="triggerWA()">Ø±Ø³Ø§Ù„Ø© ÙˆØ§ØªØ³Ø§Ø¨ ØªØ¬Ø±ÙŠØ¨ÙŠØ©</button>
      <button class="btn" onclick="customWA()">Ø±Ø³Ø§Ù„Ø© Ù…Ø®ØµØµØ©â€¦</button>
      <button class="btn" onclick="toggleMode()">ØªØ¨Ø¯ÙŠÙ„: ØµØ§Ù…Øª/Ø¹Ø§Ù…</button>
    </div>

    <!-- Ø£Ø²Ø±Ø§Ø± Ø¶Ø¨Ø· Ø¯Ù‚ÙŠÙ‚Ø© -->
    <div class="tuner" aria-label="Ø¶Ø¨Ø· Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ù†ÙˆØªØ´">
      <button class="s" onclick="setNotch('w',-2)">Wâˆ’</button>
      <button class="s" onclick="setNotch('w',+2)">W+</button>
      <button class="s" onclick="setNotch('h',-1)">Hâˆ’</button>
      <button class="s" onclick="setNotch('h',+1)">H+</button>
      <button class="s" onclick="resetNotch()">Reset</button>
    </div>

    <div class="hint">Ø£Ø¶ÙÙ Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù…Ù† Safari â†’ Share â†’ Add to Home Screen.</div>
  </div>

<script>
  const root = document.documentElement;
  const notch = document.getElementById('notch');
  const shape = document.getElementById('shape');

  // ØªÙˆØ³ÙŠØ¹/ØªØµØºÙŠØ±
  function toggleExpand(force){
    const willExpand = (typeof force==='boolean') ? force : !notch.classList.contains('expand');
    notch.classList.toggle('expand', willExpand);
    document.getElementById('title').textContent = willExpand
      ? 'Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© â€” Ø§Ø³Ø­Ø¨ Ù„Ù„Ø£Ø¹Ù„Ù‰ Ù„Ø¥Ø®ÙØ§Ø¡'
      : 'Ù†ÙˆØªØ´ iPhone 13 Pro â€” Ù…Ø·Ø§Ø¨Ù‚';
    puff();
  }
  notch.addEventListener('click', e=>{
    if(e.target.closest('.tuner,.panel,.btn')) return;
    toggleExpand();
  });

  // Ø¥Ø´Ø¹Ø§Ø± ÙˆØ§ØªØ³Ø§Ø¨ (Ù…Ø­Ø§ÙƒØ§Ø©)
  function triggerWA(name="ØµØ¯ÙŠÙ‚Ùƒ", text="ÙˆÙŠÙ†ÙƒØŸ Ù…Ø­ØªØ§Ø¬Ùƒ Ø§Ù„Ø¢Ù†."){
    waFrom.textContent = name; waText.textContent = text;
    if(!notch.classList.contains('expand')) toggleExpand(true);
    flash(document.getElementById('waCard'));
  }
  function customWA(){
    const n = prompt("Ø§Ø³Ù… Ø§Ù„Ù…Ø±Ø³Ù„:", "Ø£Ø­Ù…Ø¯ Ø§Ù„ÙˆØ§ØªØ³"); if(n===null) return;
    const t = prompt("Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø©:", "ØªÙ…Ø§Ù…ØŸ"); if(t===null) return;
    triggerWA(n || "Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…", t || "â€¦");
  }

  // ØªØ¨Ø¯ÙŠÙ„ ØµØ§Ù…Øª/Ø¹Ø§Ù…
  let silent=false;
  function toggleMode(){
    silent=!silent;
    modeText.textContent = "Ø§Ù„Ù†Ù…Ø·: " + (silent ? "ØµØ§Ù…Øª" : "Ø¹Ø§Ù…");
    bell.textContent = silent ? "ğŸ”•" : "ğŸ””";
    modePill.classList.toggle('ok', !silent);
    modePill.classList.toggle('warn', silent);
    if(!notch.classList.contains('expand')) toggleExpand(true);
    flash(modePill.closest('.card'));
  }

  // Ù†ÙØ®Ø© Ø®ÙÙŠÙØ©
  function puff(){
    shape.animate(
      [
        { transform:'translateX(-50%) scaleY(1)' },
        { transform:'translateX(-50%) scaleY(1.05)' },
        { transform:'translateX(-50%) scaleY(1)' }
      ],
      { duration:260, easing:'cubic-bezier(.2,.9,.2,1)' }
    );
  }
  function flash(el){
    el.animate(
      [
        { boxShadow:'0 8px 20px rgba(0,0,0,.35)' },
        { boxShadow:'0 8px 28px rgba(96,165,255,.45)' },
        { boxShadow:'0 8px 20px rgba(0,0,0,.35)' }
      ],
      { duration:420, easing:'ease-in-out' }
    );
  }

  // Ø³Ø­Ø¨ Ù„Ù„Ø£Ø¹Ù„Ù‰ Ù„Ø¥ØºÙ„Ø§Ù‚
  let sy=null;
  notch.addEventListener('touchstart', e=>{ sy = e.touches[0].clientY; }, {passive:true});
  notch.addEventListener('touchmove', e=>{
    if(sy==null) return;
    const dy = e.touches[0].clientY - sy;
    if(dy < -40){ toggleExpand(false); sy=null; }
  }, {passive:true});
  notch.addEventListener('touchend', ()=>{ sy=null; }, {passive:true});

  // ------- Ø§Ù„Ø¶Ø¨Ø· Ø§Ù„Ø¯Ù‚ÙŠÙ‚ -------
  let baseW = parseInt(getComputedStyle(root).getPropertyValue('--notch-w')) || 210;
  let baseH = parseInt(getComputedStyle(root).getPropertyValue('--notch-h')) || 34;

  function applyNotch(w,h){
    root.style.setProperty('--notch-w', w + 'px');
    root.style.setProperty('--notch-h', h + 'px');
    // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ Ù„ÙŠØ·Ø§Ø¨Ù‚ Ø§Ù„Ø´ÙƒÙ„
    document.querySelector('.bar').style.width = w + 'px';
  }
  function setNotch(axis, delta){
    if(axis==='w'){ baseW = Math.max(150, Math.min(320, baseW + delta)); }
    if(axis==='h'){ baseH = Math.max(24,  Math.min(60,  baseH + delta)); }
    applyNotch(baseW, baseH);
    puff();
  }
  function resetNotch(){
    // Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù‚ÙŠÙ… Ø­Ø³Ø¨ Ø§Ù„Ø¬Ù‡Ø§Ø²
    const isMax = window.innerWidth >= 420 && window.innerWidth <= 440;
    baseW = isMax ? 230 : 210; baseH = 34;
    applyNotch(baseW, baseH); puff();
  }
  // ØªÙ‡ÙŠØ¦Ø© Ø£ÙˆÙ„ÙŠØ©
  applyNotch(baseW, baseH);

  // ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù„Ù…Ø³
  document.addEventListener('touchstart', ()=>{}, {passive:true});
</script>
</body>
</html>
